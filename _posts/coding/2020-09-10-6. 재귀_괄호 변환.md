---
title:  "6. 재귀_괄호 변환"
excerpt: ""

categories:
  - coding
tags:
  - 
last_modified_at: 
---

## 문제

[문제 링크](https://programmers.co.kr/learn/courses/30/lessons/60058)

## 아쉬웠던 부분

초반에 시간을 좀 잡아먹었는데, 주석을 달자마자 바로 술술 풀려버렸다. 역시 복잡할 때는 주석을 쓰면서 하는 것이 최고인가 보다.

처음 실행시키자마자 맞아서 신기하고 뿌듯했다.

## 풀이

```python
def check_right(string):
    stack = []
    
    for i in range(len(string)):
        if string[i] == "(":
            stack.append(string[i])
        else :
            if len(stack) == 0:
                return False
            else :
                stack.pop()
    
    if len(stack) == 0:
        return True
    else:
        return False
    
def check_balance(string):
    count = 0
    
    if len(string) == 0:
        return False
    
    for i in range(len(string)):
        if string[i] == '(':
            count += 1
        else:
            count -= 1
            
    if count == 0:
        return True
    else:
        return False

def process(string):
    
    # 1. 빈 문자열이면 빈 문자열 반환
    if len(string) == 0:
        return string
    
    for i in range(len(string)):
        u = string[0:i+1]
        v = string[i+1:]
        
        # 2. 두 균형 잡힌 문자열을 반환
        if check_balance(u) == True:
            if check_balance(v) == True or len(v) == 0:
                
                # 3. u가 올바른 괄호 문자열
                if check_right(u) == True:
                    # 3. v에 대해 1단계부터 다시 수행
                    v = process(v)
                    # 3-1. u에 이어 붙인 후 반환
                    return u + v
                # 4. u가 올바르지 않은 괄호 문자열
                else:
                    # 4-1. 첫 번째 문자로 ( 붙임
                    new_string = "("
                    # 4-2. v에 대해 1단계부터 재귀적으로 수행한 결과 붙임
                    new_string = new_string + process(v)
                    # 4-3. ) 다시 붙임
                    new_string = new_string + ")"
                    # 4-4. u의 첫번째와 마지막 문자 제거,
                    u = u[1:-1]
                    # 4-5. 나머지 문자열의 괄호 방향을 뒤집어서 뒤에 붙임
                    for i in range(len(u)):
                        if u[i] == '(':
                            new_string = new_string + ')'
                        else:
                            new_string = new_string + '('
                    return new_string
                    
def solution(p):
    answer = ''
    
    if len(p) == 0:
        return ""
    
    if check_right(p) == True:
            return p
    else:
        answer = process(p)

            
    return answer
```

![image](https://user-images.githubusercontent.com/41438361/92738130-a8cfa780-f3b6-11ea-9777-75e81432bf19.png)
