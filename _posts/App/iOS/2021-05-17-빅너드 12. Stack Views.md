---  
layout: post  
title: "[iOS Programming Big Nerd Ranch] 12. Stack Views"  
subtitle: ""  
categories: app
tags: app-ios 
comments: true  
header-img: 
---  
  
> `Stack View에 대해 알아보자.`  

---

지금까지는 Auto Layout을 이용해서 디바이스 타입과 크기에 따라 달라지는 유동적인 인터페이스를 만들었다. Auto Layout은 굉장히 강력한 기술이지만, 복잡성이 따른다.
인터페이스를 잘 레이어링하는 것이 종종 많은 제약이 필요할 수 있고, 따라서 제약들을 계속 추가하고 빼는 것 때문에 동적인 인터페이스를 만드는 것이 어려울 수 있다.

인터페이스는 선형으로 정렬될 수 있다. 선형 레이아웃을 가지는 인터페이스는 stack view를 이용하기 좋은 후보군에 속한다. Stack view는 일반적으로 스스로 관리해야 하는 대부분의 제약을
레이어링하고 관리하기 쉽게 수직이나 수평으로 레이아웃을 만드는 것을 가능하게 하는 `UIStackView`의 인스턴스다. 스택 뷰 안에 스택 뷰를 넣어서 인터페이스를 만들 수도 있다.

여기서는 특정 `Item`의 세부사항을 출력하는 인터페이스를 만들 것이다. 이 인터페이스에서는 수직이고 평행한 여러 개의 스택뷰가 중첩된 형태를 만들 것이다.

![image](https://user-images.githubusercontent.com/41438361/118410320-c5507c00-b6c9-11eb-91f5-9f14f95c2370.png)

## Using UIStackView

`Item`의 디테일을 수정하는 인터페이스를 만들 것이다. 이 글에서는 기본 인터페이스만을 구현하고, 세부사항은 다음 글에서 구현할 것이다.

먼저, 아이템의 이름, 일련 번호,, 값, 그리고 생성된 날짜를 표시하는 네 개의 요소를 담은 수직 스택 뷰를 아래와 같이 가지고 있다.

![image](https://user-images.githubusercontent.com/41438361/118410354-f630b100-b6c9-11eb-9d94-a46c1a17d7da.png)

스토리 보드를 열고 새로운 View Controller를 캔버스에 추가한다. 그리고 이 뷰 컨트로러의 뷰로 Vertical Stack View를 오브젝트 라이브러리에서 드래그 드롭한다.

그리고 UILabel 4개를 스택 뷰에 드래그 드랍하고 텍스트를 입력한다.

여기까지 했을 때, 라벨에 빨간색으로 선이 표시되는 것을 확인할 수 있다. 이걸 해결하느 방법은 Auto Layout을 이용하거나, stack view의 프로퍼티를 사용하는 것이다.
Auto Layout을 사용해서 먼저 사용해보겠다.

## Implicit constraints

모든 뷰는 instrinsic content size가 있다는 것을 배웠다. 또한 만약 명시적으로 너비 높이를 지정하지 않았다면 뷰가 instrinsic content size에서 너비와 높이를 불러올 것이라고 했다.

이게 작동하는 과정은 뷰의 content hugging 프로퍼티와 content compression resistance 프로퍼티에서 정해진 implicit constraint를 이용하기 때문이다.
뷰는 이 프로퍼티를 각각의 축에 대해 갖고 있다.

* horizontal content hugging priority
* vertical content hugging priority
* horizontal content compression resistance priority
* vertical content compression resistance priority

### Content hugging priority

Content hugging priority는 뷰에 둘러싸여진 고무 밴드같다. 고무 밴드는 뷰가 해당 차원에서 intrinsic content size보다 커지지 않게 한다. 각 우선순위는 0에서 1000까지의 값을 갖고 있다.
1000은 뷰가 해당 차원에서 intrinsic content size보다 절대로 커질 수 없다는 의미다. 

horizontal dimension을 예시로 들겠다. 두개의 라벨이 아래와 같이 붙어있다고 해보자.

![image](https://user-images.githubusercontent.com/41438361/118411076-d602f100-b6cd-11eb-8d25-ce0955140025.png)

이는 superview가 
