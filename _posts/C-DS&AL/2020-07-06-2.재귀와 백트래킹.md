---
title:  "C다데알 - 2장 재귀와 백트래잌"
excerpt: "다양한 예제로 학습하는 데이터 구조와 알고리즘 - 2장 재귀와 백트래킹"

categories:
  - C다데알
  
tags:
  - C
  - 공부
last_modified_at: 2020-07-05
---

2장 재귀와 백트래킹
==================

## 2.1 재귀란?

자기 자신을 호출하는 함수를 재귀라고 부른다. 재귀의 목적은 자신의 복사본을 호출하여 더 작은 문제를 풀게 하여 문제를 해결하는 것이다.

이를 재귀 단계라고 하는데, 매 단계마다 함수는 더 간단해진(단순해진) 문제를 가지고 자기 자신을 호출한다.

이 작은 문제는 base case로 수렴해야 한다.

## 2.2 재귀를 사용하는 이유?

재귀는 수학에서 온 기법이다. 반복 코드보다 짧고 작성하기 쉽다.

재귀는 비슷한 하위 작업으로 정의될 수 있는 작업에 유용하다. 정렬, 검색, 탐색이 그 예이다.

## 2.3 형식

재귀 함수는 자기 자신을 계속 호출하다가, 어느 단계에서는 자기 자신을 호출하지 않고도 수행할 수 있는 하위 작업을 수행한다.

~~~
if()
  return
else if()
  return
else
  return 재귀 호출
~~~

이와 같은 구조로 작성할 수 있다.

## 2.4 재귀와 메모리(시각화)

재귀 호출될때마다 메서드의 복사본(실제로는 변수만)이 메모리에 만들어진다.

메서드가 종료될 때(어떤 데이터를 리턴할 때), 리넡하는 메서드의 복사본은 메모리에서 삭제된다.

![4](https://user-images.githubusercontent.com/41438361/86535994-3c03e100-bf1f-11ea-9e39-1b54d1cdebaf.png)

## 2.5 재귀와 반복 비교

재귀적 접근은 어려운 문제를 쉽게 풀 수 있게 해주지만 매번 수행하는 재귀 호출에 부가적인 요소들(스택 공간)이 필요하다.

* 재귀
  * base case에 도달하면 종료
  * 각 재귀 호출은 스택 프레임(메모리)에 추가적인 공간을 필요로 한다.
  * 무한 루프에 빠지면 메모리 용량을 초과해서 스택 오버플로우를 초래한다.
  * 어떤 문제들은 재귀적으로 수식을 세우기 쉽다.
  
* 반복
  * 조건이 거짓이 되면 종료
  * 반복이 추가 공간을 필요로 하지 않는다.
  * 무한 루프또한 추가 메모리가 필요하지 않아서 무한히 반복된다.
  * 반복적 해법은 재귀에 비해 간단하지 않을 수 있다.
  
## 2.6 참고사항

* 일반적으로 반복이 재귀보다 효율적이다(재귀 호출에 따른 추가 메모리 요구 때문)
* 재귀 알고리즘은 스택을 이용해서 재귀 호출 없이 구현될 수 있지만 유용하지 못하다. 재귀적으로 풀 수 있는 문제는 반복적으로도 풀 수 있다.

## 2.7 예시

* 피보나치 수열, 팩토리얼 구하기
* 병합 정렬, 퀵 정렬
* 이진 탐색
* 트리 탐색, 중위, 전위, 후위 등 여러 트리 문제들
* 그래프 탐색, DFS(깊이 우선 탐색), BFS(너비 우선 탐색)
* 동적 계획법
* 분할 정복 알고리즘
* 하노이의 탑
* 백트래킹 알고리즘

## 2.8 백트래킹이란?

백트래킹은 분할 정복을 이용한 완전 검색 기법이다.

* 어떤 경우는 문제를 푸는 최선의 알고리즘이 모든 경우의 수를 다 살펴보는 것이다.
* 느리지만 도움이 될 수 있는 표준 도구들이 있다.
* 가지치기를 이용해 완전 검색을 빠르게 한다.

백트래킹은 어떤 노드의 유망성 점검 후, 유망하지 않으면 그 노드의 부모노드로 되돌아간 후 다른 자손 노드를 검색하여 풀이시간을 단축한다.

예시로 4-Queens Problem이 있다. 이 문제는 4개의 queen을 서로 상대방을 위협하지 않도록 4*4 체스판에 위치시키는 문제이다.

퀸은 참고로 가로줄, 세로줄, 대각선줄 이렇게 총 세 방향으로 움직일 수 있다.
만약 퀸이 처음에 판의 (1,1) 위치에 있다고 해보자.

그러면 시작 지점에서 퀸이 이동할 수 있는지 여부와 상관 없이 접근 가능한 모든 노드들을 시작 노드의 자식 노드로 설정할 수 있다.

이렇게 모든 노드들마다 접근 가능한 노드를 자식 노드로 만들어 트리로 만든다음, 유망한 노드와 유망하지 않은 노드들을 검사하며
더 탐색할지, 아니면 그만둘지 결정한다. 

백트래킹은 DFS와 마찬가지로 스택을 사용한다. 백트래킹에 대한 구체적이고 이해하기 쉽게 설명해 놓은 블로그가 있어 주소를 가져왔다. 
https://idea-sketch.tistory.com/29


## 2.9 백트래킹 알고리즘의 예
* 이진문자열
* k-ary 문자열 만들기
* 배낭 채우기 문제
* 문자열 일반화
* 해밀턴 사이클
* 그래프 색칠 문제
