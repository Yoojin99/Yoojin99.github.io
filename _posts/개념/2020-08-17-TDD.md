---
title:  "TDD(테스트 주도 개발)"
excerpt: ""

toc: true
toc_sticky: true
toc_label: "페이지 주요 목차"
header:
  teaser: 
  
  
categories:
  - 개념
  
tags:
  - 공부
  - TDD
last_modified_at: 
---

TDD(Test Driven Development)?

## TDD란?

TDD = Test Driven Development : 테스트 주도 개발. **테스트가 개발을 이끌어 나간다**는 뜻이다.

반복 테스트를 이용한 소프트웨어 방법론으로, 작은 단위의 테스트 케이스를 작성하고 이를 통과하는 코드를 추가하는 단계를 반복하여 구현한다.

짧은 개발 주기의 반복에 의존하는 개발 프로세스이며 애자일 방법론 중 하나이 eXtream Programming(XP)의 'Test-First' 개념에 기반을 둔 단순한 설계를 중요시한다.

*XP? : 미래에 대한 예측을 최대한 하지 않고 지속적으로 프로토타입을 완성하는 애자일 방법론 중 하나이다. 이 방법론은 추가 요구사항이 생기더라도 실시간으로 반영할 수 있다.*.*

## 개발주기

![image](https://user-images.githubusercontent.com/41438361/90339980-bac85f80-e02f-11ea-8f78-a3d541d287fa.png)

위 그림은 TDD의 개발 주기를 표현한 것이다.

* 빨간색 단계에서는 실패하는 테스트 코드를 먼저 작성한다.
* 초록색 단계에서는 테스트 코드를 성공시키기 위한 실제 코드를 작성한다.
* 노란색 단계에서는 중복 코드를 제거, 일반화 등의 리팩토링을 수행한다.

중요한 것은 실패하는 테스트 코드를 작성할 때까지 실제 코드를 작성하지 않는 것과, 실패하는 테스트를 통과할 정도의 실제 코드를 작성해야 하는 것이다. 이를 통해 실제 코드에 대해 기대되는 바를 보다 명확하게 정의함으로써 불필요한 설계를 피할 수 있고, 정확한 요구 사항에 집중할 수 있다.

## 일반 개발 방식과 TDD 개발 방식 비교

* 일반 개발 방식
  일반적으로는 요구사항 분석 -> 설계 -> 개발 -> 테스트 -> 배포 의 개발 주기를 갖는다.
  
  하지만 이는 
  1. 소비자의 요구사항이 처음부터 명확하지 않을 수 있다.
  2. 처음부터 완벽한 설계는 어렵다.
  3. 자체 버그 검출 능력 저하 또는 소스코드의 품질이 저하될 수 있다.
  4. 자체 테스트 비용이 증가할 수 있다.
  
  라는 문제로 잠재적인 위험들이 존재한다.
  
  결론적으로 이러한 코드들은 **재사용이 어렵고 관리가 어려워져 유지보수를 어렵게 만든다.**
  
  작은 부분을 수정하더라도 모든 부분을 테스트해야 하므로 전체적인 버그를 검출하기 어려워 진다.
  
* TDD 개발 방식
  TDD는 테스트 코드를 작성한 뒤에 실제 코드를 작성한다.
  
  반복적인 단계가 진행되면서 자연스럽게 코드의 버그가 줄어들고, 소스코드는 간결해진다.
  
  
## TDD 개발 방식의 장점

1. 보다 튼튼한 객체 지향적인 코드 생산
  TDD는 코드의 재사용 보장을 명시하므로 TDD를 통한 소프트웨어 개발 시 기능별 철저한 모듈화가 이루어진다.
2. 재설계 시간의 단축
  테스트 코드를 먼저 작성하기 때문에 개발자가 지금 무엇을 해야하는지 분명히 정의하고 개발을 시작하게 된다.
3. 디버깅 시간의 단출
  예를 들어 사용자의 데이터가 잘못 나온다면 DB 문제인지, 비즈니스 레이어의 문제인지 UI의 문제인지 실제 모든 레이어들을 전부 디버깅 해야 하지만, TDD의 경우 자동화된 유닛테스팅을 전제로 하므로 특정 버그를 쉽게 찾을 수 있다.
4. 테스트 문서의 대체 가능
  주로 SI 프로젝트 진행 과정에서 어떤 요소들이 테스트 되었는지 테스트 정의서를 만든다. TDD를 하게 될 경우 테스팅을 자동화 시킴과 동시에 정확학 테스트 근거를 산출할 수 있다.
5. 추가 구현의 용이함
  TDD의 경우 자동화된 유닛 테스팅을 전제하기 때문에 테스트 기간을 단축시킬 수 있다.
  
## TDD 개발 방식의 단점

1. 생산성 저하
  개발 속도가 느려질 수 있다. 왜냐하면 처음부터 2개의 코드를 짜야하고, 중간중간 테스트 하면서 고쳐나가야 하기 때문이다. 그래서 SI 프로젝트에서는 소프트웨어의 품질보다 납기일 준수가 중요하기 때문에 TDD 방식을 잘 사용하지 않는다.
  
## TDD를 하기 어려운 이유?

1. 이제까지 자신이 개발하던 방식을 많이 바꿔야 한다.

## TDD를 잘하는 법

*게임 개발로 좋은 예시를 들어서 가져왔다.*

게임을 개발하면서 stage3를 테스트할 때 항상 stage1, stage2를 클리어한 뒤 테스트를 진행하면 테스트 비용이 증가한다.

이때 바로 stage3로 갈 수 있게 만든다.

Back Door 접근법 : 테스트할 때 파라미터를 적용하여 본인이 원하는 시스템의 시작점으로 가게 하는 것.

즉 중복적으로 하는 노력들을 자동화하도록 업그레이드하면 발전할 수 있다.
  
  
  
  

